# This file is automatically generated from https://github.com/sumup/github-workflows-sync
# see docs for details: https://docs.github.com/en/code-security/dependabot/dependabot-version-updates/configuration-options-for-the-dependabot.yml-file
version: 2

registries:
  debitoor-npm-registry:
    type: npm-registry
    url: https://registry.npmjs.org
    token: ${{ secrets.DEBITOOR_NPM_TOKEN }}
  sumup-npm-registry:
    type: npm-registry
    url: https://npm.pkg.github.com
    token: ${{ secrets.GH_PACKAGES_TOKEN }}

updates:
  - package-ecosystem: npm
    cooldown:
      default-days: 7
    directory: / # Location of package manifests
    registries:
      - debitoor-npm-registry
      - sumup-npm-registry
    schedule:
      interval: "monthly"
    commit-message:
      prefix: "npm prod"
      prefix-development: "npm dev"
    rebase-strategy: auto
    open-pull-requests-limit: 5
    # TODO make configurable
    groups:
      prod-patch-updates:
        dependency-type: production
        update-types:
          - "minor"
          - "patch"
      dev-dependencies:
        dependency-type: development
        update-types:
          - "minor"
          - "patch"
    labels:
      - dependencies
  - package-ecosystem: 'github-actions'
    # disable automatic PRs per service.
    # workflow updates is made from github-workflow-sync
    open-pull-requests-limit: 0
    directory: '/'
    schedule:
      interval: 'monthly'
